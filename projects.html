<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>Projects - Jacob W. Lee</title>
  <link rel="stylesheet" href="styles.css"/>
</head>
<body>
  <div class="container">
    <header class="navbar card fade-in" style="animation-delay:.05s">
      <a class="brand" href="index.html">
        <!-- <svg width="36" height="36" viewBox="0 0 24 24" fill="none" aria-hidden="true"><rect width="24" height="24" rx="6" fill="#0b1a2a"/><path d="M6 12c2-3 10-3 12 0" stroke="#38bdf8" stroke-width="1.6" stroke-linecap="round"/></svg> -->
        <h1>Jacob W. Lee</h1>
      </a>

      <nav>
        <div class="navlinks">
          <a href="index.html">Home</a>
          <a href="projects.html" aria-current="page">Projects</a>
          <a href="research.html">Research</a>
          <a href="experience.html">Experience</a>
          <a href="assets/Jacob-W-Lee-CV.pdf" target="_blank" rel="noopener noreferrer">Download CV</a>

          <a class="icon-btn" href="https://github.com/Jacob-W-Lee" target="_blank" aria-label="GitHub">
            <img class="icon-inline" src="assets/github.svg" alt="GitHub" aria-hidden="true"/>
          </a>

          <a class="icon-btn" href="https://www.linkedin.com/in/jacob-lee-973a761/" target="_blank" aria-label="LinkedIn">
            <img class="icon-inline" src="assets/linkedin.png" alt="LinkedIn" aria-hidden="true"/>
          </a>
        </div>

        <button class="hamburger" aria-label="Open menu" id="hamburgerBtnProjects">
          <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="#e5e7eb" stroke-width="1.6" stroke-linecap="round"><path d="M3 7h18M3 12h18M3 17h18"/></svg>
        </button>
      </nav>

      <div class="mobile-menu" id="mobileMenuProjects" aria-hidden="true">
        <a href="index.html">Home</a>
        <a href="projects.html">Projects</a>
        <a href="research.html">Research</a>
        <a href="experience.html">Experience</a>
        <a href="assets/Jacob-W-Lee-CV.pdf" target="_blank" rel="noopener noreferrer">Download CV</a>
        <a href="https://github.com/Jacob-W-Lee" target="_blank">GitHub</a>
        <a href="https://www.linkedin.com/in/jacob-lee-973a76198/" target="_blank">LinkedIn</a>
      </div>
    </header>

    <main class="card fade-in" style="margin-top:1rem; animation-delay:.12s">
      <a href="index.html" style="color:var(--muted); text-decoration:none; font-weight:600;">← Back to Home</a>
      <h1 style="margin-top:.6rem">Projects</h1>

      <section style="margin-top:1rem">
        <h2>Programming</h2>
        <div class="project-grid" id="programmingGrid">
          <!-- dynamic project cards will be injected here by JS -->
        </div>
      </section>

      <section style="margin-top:1.25rem">
        <h2>Mechanical Engineering</h2>
        <div class="project-grid" id="mechanicalGrid" style="margin-top:.6rem">
          <!-- dynamic project cards will be injected here by JS -->
        </div>
      </section>

      <div class="footer">© <span id="year"></span> Jacob W. Lee</div>
    </main>
  </div>

  <script>
    // Projects are loaded from /assets/projects.json (fallback inline if missing)
    async function loadAndRenderProjects(){
      let projectData = [];
      try{
        const resp = await fetch('assets/projects.json');
        if(!resp.ok) throw new Error('projects.json not found');
        projectData = await resp.json();
      }catch(e){
        console.warn('Could not load projects.json - falling back to inline data. Error:', e);
        projectData = [
            {"id":"p2p","title":"P2P Generative 3D Mesh Sharing","year":2025,"category":"Programming","thumb":"assets/projects/thumbnails/p2p.png","description":"Peer-to-peer mesh file sharing platform.","tags":["JavaScript","Networking","Web App", "Distributed Systems"],"resources":[{"type": "link", "url": "https://jrschappert.github.io/p2p-mesh-sharing/", "label": "Website"}]},
            {"id":"heartcoded","title":"Heartcoded Web App","year":2023,"category":"Programming","thumb":"assets/projects/thumbnails/heartcoded-thumb.png","description":"Dating app that implements user feedback of previous matches.","tags":["JavaScript","Web App"],"resources":[]},
            {"id":"textual","title":"Textual Analysis of Economic Speeches (Agriculture)","year":2023,"category":"Programming","thumb":"assets/projects/thumbnails/textual_analysis.jpg","description":"Analysis of Agricultural & Applied Economics Association presidential and invited speeches using Latent Dirichlet allocation and BERTopic. Supervised by Dr. Norbert Wilson, Dr. Boyla Mainsah, and Dr. Leslie Collins.","tags":["Python","NLP"],"resources":[{"type": "link", "url": "https://wfpc.sanford.duke.edu/education/data-research-experiences/2023-data-a-textual-analysis-of-economic-speeches-on-agriculture-1919-2022/", "label": "Website"}]},
            {"id":"highway","title":"Highway Shortest Path Finder","year":2022,"category":"Programming","thumb":"assets/projects/thumbnails/highway-path-thumb.png","description":"Routing service that represents the United States highway network as a graph and calculates routes and distances between two user inputted U.S. cities.","tags":["Java","Algorithms","Graphs"],"resources":[]},
            {"id":"autocomplete","title":"Autocomplete Engine","year":2022,"category":"Programming","thumb":"assets/projects/thumbnails/autocomplete-thumb.png","description":"Autocomplete software that suggests possible completions for user inputted text.","tags":["Data Structures","Java"],"resources":[]},
            {"id":"reverse_c","title":"C Reverse Engineering Project","year":2023,"category":"Programming","thumb":"assets/projects/thumbnails/reverse-engineering-thumb.png","description":"Reverse engineering obfuscated C binaries to recover hidden messages.","tags":["C","Reverse Engineering"],"resources":[]},
            {"id":"lmc_x4","title":"LMC X-4 Project","year":2022,"category":"Programming","thumb":"assets/projects/thumbnails/lmc_x4.png","description":"Selected to assist Dr. Fred Lang (HCC Department Chair of Mathematics) with “A Study of the Variability of LMC X-4”-research into the phenomenon of neutron stars. Responsibilities: weekly one-on-one meetings, reading previous studies, analyzing data. Presented at HCC's Scholars Symposium and Maryland Collegiate STEM Conference.","tags":["MATLAB","Data Analysis", "Astrophysics"],"resources":[{"type": "link", "url": "https://sites.google.com/view/studyofthevariabilityoflmcx-4/home", "label": "Website"}]},

            {"id":"duke_v1","title":"Duke Humanoid V1","year":2024,"category":"Mechanical","thumb":"assets/projects/thumbnails/dhv1.jpg","description":"Medium-sized Humanoid platform designed to optimize passive dynamics. Responsible for CAD using Autodesk Fusion 360, URDF, design and manufacturing of parts using 3D Printing and CNC milling, stress-strain calculations and finite element analysis (FEA) to evaluate material selections. Presented at IROS 2025.","tags":["CAD", "Research", "Robotics", "Humanoid"],"resources":[{"type": "link", "url": "http://www.generalroboticslab.com/blogs/blog/2024-09-29-dukehumanoidv1/index.html", "label": "Lab Website"}]},
            {"id":"duke_v2","title":"Duke Humanoid V2","year":2025,"category":"Mechanical","thumb":"assets/projects/thumbnails/grl.png","description":"Second-generation of the Duke Humanoid (Private), planning to submit to Science Robotics","tags":["CAD", "Research", "Robotics", "Humanoid"],"resources":[]},
            {"id":"pump_base","title":"Pump Base Project","year":2025,"category":"Mechanical","thumb":"assets/projects/thumbnails/pump-base-thumb.png","description":"Designed and manufactured a pump mounting base optimizing load capacity and minimizing deflection.","tags":["CAD","Design","Manufacturing"],"resources":[]},
            {"id":"putterinko","title":"Putterinko Project","year":2025,"category":"Mechanical","thumb":"assets/projects/thumbnails/putterinko-thumb.png","description":"Designed and built a mechanical system combining plinko with minigolf for use at the Duke Mechanical Engineering Fair. Responsible for ball dispenser design.","tags":["CAD", "3D Printing"],"resources":[{"type": "video", "url": "assets/projects/resources/putterinko_video.mp4", "label": "Demo Video"}]},
            {"id":"glenelg","title":"Glenelg Crystal Nanolab","year":2022,"category":"Mechanical","thumb":"assets/projects/thumbnails/nanolab.png","description":"Designed, prototyped, and built a generic Nanolab for conducting crystal growth experiments on the International Space Station. Competed against teams from across the United States along with two other students. Selected as a finalist for the Crystal Nanolab category.","tags":["CAD","Design"],"resources":[ {"type": "link", "url": "https://sites.google.com/view/glenelgcrystalnanolab", "label": "Website"}]}
        ];
      }

      // Sort by year desc
      projectData.sort((a,b)=> b.year - a.year || a.title.localeCompare(b.title));

      const programmingSection = document.getElementById('programmingGrid');
      const mechSection = document.getElementById('mechanicalGrid');

      programmingSection.innerHTML = '';
      mechSection.innerHTML = '';

        function makeCard(p){
        const art = document.createElement('article');
        art.className = 'project-card';

        // Create the image element but only keep it if it successfully loads.
        const img = document.createElement('img');
        img.className = 'thumb';
        img.src = p.thumb || '';
        img.alt = p.title + ' thumbnail';
        img.loading = 'lazy';

        // If the image fails to load, remove it from the DOM so no broken icon shows.
        img.onerror = function(){
            if(img && img.parentNode) img.parentNode.removeChild(img);
        };

        art.appendChild(img);

        const div = document.createElement('div');
        const title = document.createElement('div');
        title.style.fontWeight = '700';
        title.style.color = 'var(--accent)';
        title.innerHTML = `${p.title} - <span class="date">${p.year}</span>`;
        div.appendChild(title);

        const desc = document.createElement('p');
        desc.style.margin = '.4rem 0 0 0';
        desc.style.color = '#dbe7ff';
        desc.textContent = p.description;
        div.appendChild(desc);

        const tags = document.createElement('div');
        tags.className = 'tags';
        (p.tags || []).forEach(t=>{
            const s = document.createElement('span');
            s.className='tag';
            s.textContent=t;
            tags.appendChild(s);
        });
        div.appendChild(tags);

        // Only create & append the resources section if there are resources to show
        if (p.resources && p.resources.length > 0) {
            const res = document.createElement('div');
            res.className = 'resources';
            res.style.marginTop = '0.5rem';
            res.innerHTML = buildResourceHTML(p);
            div.appendChild(res);
        }

        art.appendChild(div);
        return art;
        }

        function buildResourceHTML(p){
        // assume this is called only when p.resources exists && length > 0
        return p.resources.map(r=>{
            if(r.type==='link') return `<a href="${r.url}" target="_blank" rel="noopener noreferrer">${r.label||r.url}</a>`;
            if(r.type==='slide') return `<a href="${r.url}" target="_blank">Slides</a>`;
            if(r.type==='video') return `<a href="${r.url}" target="_blank">Video</a>`;
            if(r.type==='image') return `<a href="${r.url}" target="_blank">Image</a>`;
            return r.label||r.url;
        }).join(' | ');
        }

      projectData.forEach(p => {
        const card = makeCard(p);
        if(p.category === 'Programming') programmingSection.appendChild(card);
        if(p.category === 'Mechanical') mechSection.appendChild(card);
      });
    }

    // mobile hamburger
    const hbProj = document.getElementById('hamburgerBtnProjects');
    const mobileProj = document.getElementById('mobileMenuProjects');
    let projOpen = false;
    hbProj.addEventListener('click', () => {
      projOpen = !projOpen;
      mobileProj.classList.toggle('open', projOpen);
      mobileProj.setAttribute('aria-hidden', !projOpen);
    });

    // initial render
    document.getElementById('year').textContent = new Date().getFullYear();
    loadAndRenderProjects();
  </script>
</body>
</html>
